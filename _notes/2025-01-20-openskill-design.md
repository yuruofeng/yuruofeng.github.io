---
title: "å¤§æ¨¡å‹æ™ºèƒ½ä»£ç†æ¡†æ¶è®¾è®¡ç¬”è®°"
date: 2025-01-20
category: "AI / LLM"
icon: "ğŸ¤–"
description: "è®°å½• OpenSkill æ™ºèƒ½ä»£ç†æ¡†æ¶çš„è®¾è®¡æ€è·¯ï¼ŒåŒ…æ‹¬ä¸­é—´ä»¶æ¶æ„ã€å®‰å…¨æœºåˆ¶ä¸ SKILL.md æ ¼å¼å…¼å®¹æ–¹æ¡ˆã€‚"
tags: ["Python", "LLM Agent", "Architecture"]
---

## è®¾è®¡ç›®æ ‡

OpenSkill æ¡†æ¶æ—¨åœ¨ä¸º LLM æä¾›ä¸€ä¸ªæ ‡å‡†åŒ–çš„æŠ€èƒ½æ‰§è¡Œç¯å¢ƒï¼Œä½¿å¤§æ¨¡å‹èƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€è¯·æ±‚æ¥è°ƒåº¦å’Œæ‰§è¡Œå¤æ‚æŠ€èƒ½ã€‚

## æ ¸å¿ƒæ¶æ„

æ¡†æ¶é‡‡ç”¨åˆ†å±‚ä¸­é—´ä»¶æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Natural Language API       â”‚  â† ç”¨æˆ·å…¥å£
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Request Parser             â”‚  â† æ„å›¾è¯†åˆ«ä¸å‚æ•°æå–
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Skill Router               â”‚  â† æŠ€èƒ½åŒ¹é…ä¸åˆ†å‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Security Sandbox           â”‚  â† æƒé™éªŒè¯ä¸éš”ç¦»æ‰§è¡Œ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Skill Executors            â”‚  â† å…·ä½“æŠ€èƒ½å®ç°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Result Formatter           â”‚  â† è¾“å‡ºæ ‡å‡†åŒ–
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## SKILL.md å…¼å®¹è®¾è®¡

ä¸ºå…¼å®¹ Anthropic çš„ SKILL.md æ ¼å¼ï¼Œæ¡†æ¶å®ç°äº†ä¸€ä¸ªè§£æå™¨ï¼š

```python
class SkillManifest:
    """è§£æ SKILL.md æ–‡ä»¶å¹¶æ³¨å†Œä¸ºå¯æ‰§è¡ŒæŠ€èƒ½"""
    
    def __init__(self, skill_path: str):
        self.path = Path(skill_path)
        self.metadata = self._parse_frontmatter()
        self.instructions = self._parse_body()
    
    def _parse_frontmatter(self) -> dict:
        """æå– YAML front matter ä¸­çš„å…ƒæ•°æ®"""
        content = self.path.read_text()
        if content.startswith('---'):
            _, fm, body = content.split('---', 2)
            return yaml.safe_load(fm)
        return {}
    
    def register(self, router: SkillRouter):
        """å°†æŠ€èƒ½æ³¨å†Œåˆ°è·¯ç”±å™¨"""
        router.add_skill(
            name=self.metadata['name'],
            description=self.metadata['description'],
            handler=self._create_handler()
        )
```

## å®‰å…¨æœºåˆ¶

å®‰å…¨æ²™ç®±æ˜¯æ¡†æ¶ä¸­æœ€å…³é”®çš„ç»„ä»¶ï¼Œé‡‡ç”¨å¤šå±‚é˜²æŠ¤ç­–ç•¥ã€‚é¦–å…ˆåœ¨è¿›ç¨‹çº§åˆ«ä½¿ç”¨ç‹¬ç«‹å­è¿›ç¨‹æ‰§è¡ŒæŠ€èƒ½ï¼Œé˜²æ­¢ä¸»è¿›ç¨‹è¢«å½±å“ã€‚å…¶æ¬¡åœ¨æ–‡ä»¶ç³»ç»Ÿå±‚é¢é€šè¿‡ç™½åå•æœºåˆ¶é™åˆ¶å¯è®¿é—®è·¯å¾„ã€‚æœ€ååœ¨ç½‘ç»œå±‚é¢æ”¯æŒé…ç½®åŸŸåç™½åå•ä»¥æ§åˆ¶å¤–éƒ¨è®¿é—®ã€‚

## åç»­è§„åˆ’

è®¡åˆ’æ”¯æŒå¼‚æ­¥æŠ€èƒ½æ‰§è¡Œä»¥æå‡å¹¶å‘æ€§èƒ½ã€æ·»åŠ æŠ€èƒ½ä¾èµ–ç®¡ç†ä»¥æ”¯æŒæŠ€èƒ½é—´çš„ç»„åˆè°ƒç”¨ã€ä»¥åŠå®ç°æ‰§è¡Œç»“æœç¼“å­˜ä»¥é¿å…é‡å¤è®¡ç®—ã€‚
